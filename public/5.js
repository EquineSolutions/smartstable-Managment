(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{18:function(e,s,a){var t=a(51);"string"==typeof t&&(t=[[e.i,t,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a(5)(t,r);t.locals&&(e.exports=t.locals)},50:function(e,s,a){"use strict";var t=a(18);a.n(t).a},51:function(e,s,a){(e.exports=a(4)(!1)).push([e.i,".centerx li {\n  display: inline-flex;\n  margin: 10px;\n}\n",""])},85:function(e,s,a){"use strict";a.r(s);var t=a(2);a(7).a.localize("en",{custom:{role_name:{required:"Please enter the role name"}}});var r={mounted:function(){this.getRole()},data:function(){return{permissions:[],role_name:"",rolePermissions:[]}},methods:{getRole:function(){var e=this;axios.get("/api/roles/".concat(this.$route.params.id,"/edit"),store.state.config).then(function(s){e.permissions=s.data.data.permission,e.role_name=s.data.data.role.name;for(var a=0;a<s.data.data.rolePermissions.length;a++)e.rolePermissions.push(s.data.data.rolePermissions[a].name)}).catch(function(s){403==s.response.status?(e.vs_alert("Oops!",s.response.data.message,"danger"),t.a.push({name:"pageError403"})):401==s.response.status&&t.a.push({name:"pageLogin"})})},submitForm:function(){var e=this,s=this;this.$validator.validateAll().then(function(a){if(a){var r={name:e.role_name,permission:e.rolePermissions};axios.put("/api/roles/".concat(e.$route.params.id),r,store.state.config).then(function(e){200==e.data.status?(s.vs_alert("Success","Role Successfully Updated","success"),t.a.push({name:"role"})):s.vs_alert("Oops!",e.data,"danger")}).catch(function(e){if(422==e.response.status){var a=e.response.data.errors;s.vs_alert("Oops!",a[Object.keys(a)[0]][0],"danger")}else 403==e.response.status?(s.vs_alert("Oops!",e.response.data.message,"danger"),t.a.push({name:"pageError403"})):401==e.response.status&&t.a.push({name:"pageLogin"})})}else e.vs_alert("Oops!","Please, solve all issues before submitting.","danger")})},vs_alert:function(e,s,a){this.$vs.notify({title:e,text:s,color:a})}}},o=(a(50),a(1)),n=Object(o.a)(r,function(){var e=this,s=e.$createElement,a=e._self._c||s;return e.can("role-edit")?a("div",[a("vx-card",{attrs:{title:"Update Role"}},[a("form",[a("div",{staticClass:"vx-row"},[a("div",{staticClass:"vx-col w-full mb-2"},[a("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"w-full",attrs:{"icon-pack":"feather",icon:"icon-shield","icon-no-border":"","label-placeholder":"Role Name",name:"role_name"},model:{value:e.role_name,callback:function(s){e.role_name=s},expression:"role_name"}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("role_name"),expression:"errors.has('role_name')"}],staticClass:"text-danger text-sm"},[e._v(e._s(e.errors.first("role_name")))])],1)]),e._v(" "),a("div",{staticClass:"vx-row mt-5"},[a("div",{staticClass:"vx-col w-full"},[a("b",[e._v("Role Permissions:")]),e._v(" "),a("ul",{staticClass:"centerx"},e._l(e.permissions,function(s,t){return a("li",{key:t},[a("vs-checkbox",{attrs:{"vs-value":s.name},model:{value:e.rolePermissions,callback:function(s){e.rolePermissions=s},expression:"rolePermissions"}},[e._v(e._s(s.name))])],1)}),0)])]),e._v(" "),a("div",{staticClass:"vx-row mt-10"},[a("div",{staticClass:"vx-col w-full"},[a("vs-button",{staticClass:"mr-3 mb-2",attrs:{"icon-pack":"feather",icon:"icon-save"},on:{click:function(s){return s.preventDefault(),e.submitForm(s)}}},[e._v("Save Role")])],1)])])])],1):e._e()},[],!1,null,null,null);s.default=n.exports}}]);