(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{19:function(e,s,a){var t=a(53);"string"==typeof t&&(t=[[e.i,t,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a(5)(t,r);t.locals&&(e.exports=t.locals)},52:function(e,s,a){"use strict";var t=a(19);a.n(t).a},53:function(e,s,a){(e.exports=a(4)(!1)).push([e.i,".vx-card .vx-card__collapsible-content img {\n  -o-object-fit: cover;\n     object-fit: cover;\n}\n",""])},84:function(e,s,a){"use strict";a.r(s);var t=a(2),r={mounted:function(){this.getUserData()},name:"Profile",data:function(){return{update:!1,user:{id:store.state.currentUser.id,first_name:store.state.currentUser.first_name,last_name:store.state.currentUser.last_name,email:store.state.currentUser.email,mobile:store.state.currentUser.mobile,image:store.state.currentUser.image},form:{first_name:store.state.currentUser.first_name,last_name:store.state.currentUser.last_name,email:store.state.currentUser.email,mobile:store.state.currentUser.mobile,image:store.state.currentUser.image,imageFile:store.state.currentUser.image,password:"",confirm_password:""}}},methods:{getUserData:function(){var e=this,s={headers:{Authorization:"Bearer "+store.state.tokens.access_token}};axios.get("/api/users/".concat(store.state.currentUser.id),s).then(function(s){e.user=s.data.data}).catch(function(e){console.log(e.response.data.code),403==e.response.data.code?t.a.push("home"):401==e.response.data.code&&t.a.push("login")})},submitForm:function(){var e=this,s=this;this.$validator.validateAll().then(function(a){if(a){var t=new FormData;t.append("first_name",e.form.first_name),t.append("last_name",e.form.last_name),t.append("email",e.form.email),t.append("mobile",e.form.mobile),""!=e.form.password&&t.append("password",e.form.password),e.user.image!=e.form.image&&t.append("image",e.form.imageFile),store.dispatch("updateProfile",t).then(function(e){s.user=e.data.User.data,s.vs_alert("Success","Data Successfully Updated","success"),s.update=!1}).catch(function(e){s.vs_alert("Oops!","An error has been occurred.","danger"),s.resetUser()})}else s.vs_alert("Oops!","Please, solve all issues before submitting.","danger")})},vs_alert:function(e,s,a){this.$vs.notify({title:e,text:s,color:a})},selectPhoto:function(){document.getElementById("photo-input").click()},previewImage:function(e){var s=this,a=e.target;if(this.form.imageFile=a.files[0],a.files&&a.files[0]){var t=new FileReader;t.onload=function(e){s.user.image=e.target.result},t.readAsDataURL(a.files[0])}}}},i=(a(52),a(1)),o=Object(i.a)(r,function(){var e=this,s=e.$createElement,a=e._self._c||s;return a("div",[a("vx-card",{attrs:{title:"Personal Information"}},[a("vs-row",[a("vs-col",{attrs:{"vs-type":"flex","vs-justify":"center","vs-align":"center","vs-w":"12"}},[a("div",{staticClass:"con-vs-avatar 200px",staticStyle:{width:"200px",height:"200px",background:"rgb(195, 195, 195)"}},[a("div",{staticClass:"con-img vs-avatar--con-img"},[a("img",{attrs:{src:""==e.user.image?"https://i.imgur.com/ezM6SJ5.png":e.user.image,alt:""}})])])]),e._v(" "),e.update?a("vs-col",{attrs:{"vs-type":"flex","vs-justify":"center","vs-align":"center","vs-w":"12"}},[a("input",{staticStyle:{display:"none"},attrs:{id:"photo-input",type:"file",accept:"image/*"},on:{change:e.previewImage}}),e._v(" "),a("vs-button",{staticClass:"mb-4",attrs:{size:"small","icon-pack":"feather",icon:"icon-edit"},on:{click:e.selectPhoto}},[e._v("Upload Photo")])],1):e._e()],1),e._v(" "),a("vs-divider"),e._v(" "),e.update?e._e():a("vs-row",[a("vs-col",{attrs:{"vs-type":"flex","vs-justify":"left","vs-align":"left","vs-w":"12"}},[a("b",[e._v("Name: ")]),e._v(" "+e._s(e.user.first_name+" "+e.user.last_name)+"\n            ")]),e._v(" "),a("vs-divider"),e._v(" "),a("vs-col",{attrs:{"vs-type":"flex","vs-justify":"left","vs-align":"left","vs-w":"12"}},[a("b",[e._v("Email: ")]),e._v(" "+e._s(e.user.email)+"\n            ")]),e._v(" "),a("vs-divider"),e._v(" "),a("vs-col",{attrs:{"vs-type":"flex","vs-justify":"left","vs-align":"left","vs-w":"12"}},[a("b",[e._v("Mobile: ")]),e._v(" "+e._s(e.user.mobile)+"\n            ")])],1),e._v(" "),e.update?[a("div",{staticClass:"vx-row"},[a("div",{staticClass:"vx-col sm:w-1/2 w-full mb-2"},[a("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|alpha",expression:"'required|alpha'"}],staticClass:"w-full",attrs:{"icon-pack":"feather",icon:"icon-user","icon-no-border":"","label-placeholder":"First Name*",name:"first_name"},model:{value:e.form.first_name,callback:function(s){e.$set(e.form,"first_name",s)},expression:"form.first_name"}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("first_name"),expression:"errors.has('first_name')"}],staticClass:"text-danger text-sm"},[e._v(e._s(e.errors.first("first_name")))])],1),e._v(" "),a("div",{staticClass:"vx-col sm:w-1/2 w-full mb-2"},[a("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|alpha",expression:"'required|alpha'"}],staticClass:"w-full",attrs:{"icon-pack":"feather",icon:"icon-user","icon-no-border":"","label-placeholder":"Last Name*",name:"last_name"},model:{value:e.form.last_name,callback:function(s){e.$set(e.form,"last_name",s)},expression:"form.last_name"}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("last_name"),expression:"errors.has('last_name')"}],staticClass:"text-danger text-sm"},[e._v(e._s(e.errors.first("last_name")))])],1)]),e._v(" "),a("div",{staticClass:"vx-row"},[a("div",{staticClass:"vx-col sm:w-1/2 w-full mb-2"},[a("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"}],staticClass:"w-full",attrs:{type:"email",disabled:"","icon-pack":"feather",icon:"icon-mail","icon-no-border":"","label-placeholder":"Email*",name:"email"},model:{value:e.form.email,callback:function(s){e.$set(e.form,"email",s)},expression:"form.email"}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("email"),expression:"errors.has('email')"}],staticClass:"text-danger text-sm"},[e._v(e._s(e.errors.first("email")))])],1),e._v(" "),a("div",{staticClass:"vx-col sm:w-1/2 w-full mb-2"},[a("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"decimal:11",expression:"'decimal:11'"}],staticClass:"w-full",attrs:{"icon-pack":"feather",icon:"icon-phone","icon-no-border":"","label-placeholder":"Mobile*",name:"mobile"},model:{value:e.form.mobile,callback:function(s){e.$set(e.form,"mobile",s)},expression:"form.mobile"}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("mobile"),expression:"errors.has('mobile')"}],staticClass:"text-danger text-sm"},[e._v(e._s(e.errors.first("mobile")))])],1)]),e._v(" "),a("div",{staticClass:"vx-row"},[a("div",{staticClass:"vx-col sm:w-1/2 w-full"},[a("vs-input",{ref:"password",staticClass:"w-full",attrs:{type:"password","icon-pack":"feather",icon:"icon-lock","icon-no-border":"","label-placeholder":"Password",name:"password"},model:{value:e.form.password,callback:function(s){e.$set(e.form,"password",s)},expression:"form.password"}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("password"),expression:"errors.has('password')"}],staticClass:"text-danger text-sm"},[e._v(e._s(e.errors.first("password")))])],1),e._v(" "),a("div",{staticClass:"vx-col sm:w-1/2 w-full"},[a("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"confirmed:password",expression:"'confirmed:password'"}],staticClass:"w-full",attrs:{type:"password","icon-pack":"feather",icon:"icon-lock","icon-no-border":"","label-placeholder":"Confirm Password",name:"confirm_password","data-vv-as":"password"},model:{value:e.form.confirm_password,callback:function(s){e.$set(e.form,"confirm_password",s)},expression:"form.confirm_password"}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("confirm_password"),expression:"errors.has('confirm_password')"}],staticClass:"text-danger text-sm"},[e._v(e._s(e.errors.first("confirm_password")))])],1),e._v(" "),a("div",{staticClass:"vx-col w-full ml-3",staticStyle:{color:"rgb(153, 153, 153)"}},[a("b",[e._v("NOTE:")]),e._v(" Keep the password field empty for no change.\n                ")])])]:e._e(),e._v(" "),a("vs-row",[a("vs-col",{attrs:{"vs-type":"flex","vs-justify":"center","vs-align":"center","vs-w":"12"}},[e.update?[a("vs-button",{staticClass:"mb-4 mr-2",attrs:{"icon-pack":"feather",color:"danger",icon:"icon-x"},on:{click:function(s){e.update=!1}}},[e._v("Cancel")]),e._v(" "),a("vs-button",{staticClass:"mb-4",attrs:{"icon-pack":"feather",icon:"icon-save"},on:{click:e.submitForm}},[e._v("Save")])]:a("vs-button",{staticClass:"mb-4",attrs:{"icon-pack":"feather",icon:"icon-edit"},on:{click:function(s){e.update=!0}}},[e._v("Update Information")])],2)],1)],2)],1)},[],!1,null,null,null);s.default=o.exports}}]);